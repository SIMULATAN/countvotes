plugins {
    id 'java'
    id 'application'
    id "com.github.johnrengelman.shadow" version "7.1.2"
}

archivesBaseName = project.name
version = project.version
group = project.group

repositories {
    flatDir {
        dirs 'libs'
    }
    mavenCentral()
    maven { url = "https://jitpack.io" }
}

dependencies {
    //noinspection GroovyAssignabilityCheck
    def implshadow = { id ->
        implementation id
        shadow id
    }

    implementation name: 'jcurses'
    implshadow 'com.google.guava:guava:31.0.1-jre'
    implshadow 'com.google.code.gson:gson:2.8.9'
    implshadow 'com.github.Marcono1234:gson-record-type-adapter-factory:main-SNAPSHOT'
}

shadowJar {
    configurations = [ project.configurations.shadow ]
    archiveClassifier.set("")
}

mainClassName = "com.github.simulatan.countvotes.Main"